# PrintText-DEMO

> * webpack4.0
> * webpack-dev-server
>




* keydown 事件

在监听keydown事件时是能够获取到当前的按键信息，但是在`input`元素中如果监听keydown事件来获取当前键入的`按键`字符是不可行的，在目前的JS中当你按键后input在监听该事件时回调函数最先执行，然后再录入当前按键信息。

例如当我们监听`keydown`事件为直接获取`input`元素中的值，那么第一次执行获取的值一定为空，
当你按下A键时，事件回调会首先执行就是读取当前`input`的值，然后回调执行完毕后，将A键信息写入`input`元素。

所以当你要获取完整的`input`的值就应该监听`keyup`事件，但当你需要优先处理已经录入的信息那么就必须写入`keydown`中

* input焦点下的‘上下按键’默认事件

在模拟上下按键实现历史命令翻转功能时，我发现在按上键获取到上一条命令时再进行删除时，光标始终保持在头部，我还以为需要重新定义input元素的光标位置，但发现即使你重新定义光标位置后，光标依然保持在头部位置。

我找了一些原因但也没发现为什么会这样，最后单独测试input在上下按键默认作用，才发现当按上键时光标默认就会移动到头部，按下键默认移动到尾部。而这里我们每翻出一条历史记录命令，那么需要光标永远保持在字符尾部，所以我们这里就需要在按上键时必须阻止默认事件，这样当通过上键输入命令是光标依然保持尾部。

